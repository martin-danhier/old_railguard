<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Railguard: railguard::core::StandaloneManager&lt; T, U &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Railguard
   </div>
   <div id="projectbrief">3D game engine using Vulkan and SDL2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classrailguard_1_1core_1_1_standalone_manager.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classrailguard_1_1core_1_1_standalone_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">railguard::core::StandaloneManager&lt; T, U &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A generic class containing the boilerplate code of standalone managers. A standalone manager is a data structure that allows the storage of items in separate vectors (struct of arrays instead of an array of struct).  
 <a href="classrailguard_1_1core_1_1_standalone_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_standalone_manager_8h_source.html">StandaloneManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a603e5154475595b84678ed189c6b260d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html#a603e5154475595b84678ed189c6b260d">Init</a> (U storage=nullptr, size_t defaultCapacity=1)</td></tr>
<tr class="memdesc:a603e5154475595b84678ed189c6b260d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inits the vectors to the default capacity.  <a href="classrailguard_1_1core_1_1_standalone_manager.html#a603e5154475595b84678ed189c6b260d">More...</a><br /></td></tr>
<tr class="separator:a603e5154475595b84678ed189c6b260d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8620a3b0a2d29c5d5ecd9205292b1244"><td class="memItemLeft" align="right" valign="top"><a id="a8620a3b0a2d29c5d5ecd9205292b1244"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html#a8620a3b0a2d29c5d5ecd9205292b1244">Clear</a> ()</td></tr>
<tr class="memdesc:a8620a3b0a2d29c5d5ecd9205292b1244"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys every remaining item. <br /></td></tr>
<tr class="separator:a8620a3b0a2d29c5d5ecd9205292b1244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2852649ed4b0d293e2236ab1ef0314f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrailguard_1_1core_1_1_match.html">Match</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html#a2852649ed4b0d293e2236ab1ef0314f1">LookupId</a> (T id) const</td></tr>
<tr class="memdesc:a2852649ed4b0d293e2236ab1ef0314f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for an item with the given id.  <a href="classrailguard_1_1core_1_1_standalone_manager.html#a2852649ed4b0d293e2236ab1ef0314f1">More...</a><br /></td></tr>
<tr class="separator:a2852649ed4b0d293e2236ab1ef0314f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab472055f762a5bc235d0d57e4cda4f20"><td class="memItemLeft" align="right" valign="top"><a id="ab472055f762a5bc235d0d57e4cda4f20"></a>
T&#160;</td><td class="memItemRight" valign="bottom"><b>GetId</b> (const <a class="el" href="classrailguard_1_1core_1_1_match.html">Match</a> &amp;match) const</td></tr>
<tr class="separator:ab472055f762a5bc235d0d57e4cda4f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aec995772a0f090219b854c1b5e812eab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrailguard_1_1core_1_1_complete_match.html">CompleteMatch</a>&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html#aec995772a0f090219b854c1b5e812eab">CreateItem</a> ()</td></tr>
<tr class="memdesc:aec995772a0f090219b854c1b5e812eab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new Item. Derived function should append values to the vectors.  <a href="classrailguard_1_1core_1_1_standalone_manager.html#aec995772a0f090219b854c1b5e812eab">More...</a><br /></td></tr>
<tr class="separator:aec995772a0f090219b854c1b5e812eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2504265d6f30797ae6bab54e5399c3ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html#a2504265d6f30797ae6bab54e5399c3ed">DestroyItem</a> (const <a class="el" href="classrailguard_1_1core_1_1_match.html">Match</a> &amp;match)</td></tr>
<tr class="memdesc:a2504265d6f30797ae6bab54e5399c3ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy an item but keep everything tightly packed in the vectors.  <a href="classrailguard_1_1core_1_1_standalone_manager.html#a2504265d6f30797ae6bab54e5399c3ed">More...</a><br /></td></tr>
<tr class="separator:a2504265d6f30797ae6bab54e5399c3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:accd358d2466a0a04e9f02a2c77cc370d"><td class="memItemLeft" align="right" valign="top"><a id="accd358d2466a0a04e9f02a2c77cc370d"></a>
U&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html#accd358d2466a0a04e9f02a2c77cc370d">_storage</a></td></tr>
<tr class="memdesc:accd358d2466a0a04e9f02a2c77cc370d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optional storage for data that is passed in the Init method. <br /></td></tr>
<tr class="separator:accd358d2466a0a04e9f02a2c77cc370d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04d30de626a5512fb004d2eff22e2df6"><td class="memItemLeft" align="right" valign="top"><a id="a04d30de626a5512fb004d2eff22e2df6"></a>
std::unordered_map&lt; T, size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html#a04d30de626a5512fb004d2eff22e2df6">_idLookupMap</a></td></tr>
<tr class="memdesc:a04d30de626a5512fb004d2eff22e2df6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows to quickly get the index of a item from its id. <br /></td></tr>
<tr class="separator:a04d30de626a5512fb004d2eff22e2df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1339fc2f3ac861b450f714f6989388ce"><td class="memItemLeft" align="right" valign="top"><a id="a1339fc2f3ac861b450f714f6989388ce"></a>
T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html#a1339fc2f3ac861b450f714f6989388ce">_lastUsedId</a> = 0</td></tr>
<tr class="memdesc:a1339fc2f3ac861b450f714f6989388ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps track of the last used ID for an item. Incremented each time a new item is created. <br /></td></tr>
<tr class="separator:a1339fc2f3ac861b450f714f6989388ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd6fc5ea6bb2bbb4fecb82ce5b5fb6a6"><td class="memItemLeft" align="right" valign="top"><a id="afd6fc5ea6bb2bbb4fecb82ce5b5fb6a6"></a>
std::vector&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html#afd6fc5ea6bb2bbb4fecb82ce5b5fb6a6">_ids</a></td></tr>
<tr class="memdesc:afd6fc5ea6bb2bbb4fecb82ce5b5fb6a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows to quickly retreive the id of an item from its index. <br /></td></tr>
<tr class="separator:afd6fc5ea6bb2bbb4fecb82ce5b5fb6a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;std::integral T, typename U = nullptr_t&gt;<br />
class railguard::core::StandaloneManager&lt; T, U &gt;</h3>

<p>A generic class containing the boilerplate code of standalone managers. A standalone manager is a data structure that allows the storage of items in separate vectors (struct of arrays instead of an array of struct). </p>
<p>The "standalone" part means that it is not used to define a component used with ids. Instead, the manager uses its own ids. This can be useful for internal structures that doesn't have a lot of meaning in the game world. For example, a shader is not directly located in the world, thus it is stored in a standalone manager.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>type that will be used to represent ids. Must be integral, but the size may vary depending on the needs. </td></tr>
    <tr><td class="paramname">U</td><td>optional type that can be used to store a struct of values with the init function. For example, the vulkan device is often required in methods, storing it here removes the need to require it everywhere. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aec995772a0f090219b854c1b5e812eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec995772a0f090219b854c1b5e812eab">&#9670;&nbsp;</a></span>CreateItem()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;std::integral T, typename U  = nullptr_t&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrailguard_1_1core_1_1_complete_match.html">CompleteMatch</a>&lt;T&gt; <a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html">railguard::core::StandaloneManager</a>&lt; T, U &gt;::CreateItem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new Item. Derived function should append values to the vectors. </p>
<dl class="section return"><dt>Returns</dt><dd>CompleteMatch&lt;T&gt; a match with its ID and index </dd></dl>

</div>
</div>
<a id="a2504265d6f30797ae6bab54e5399c3ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2504265d6f30797ae6bab54e5399c3ed">&#9670;&nbsp;</a></span>DestroyItem()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;std::integral T, typename U  = nullptr_t&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html">railguard::core::StandaloneManager</a>&lt; T, U &gt;::DestroyItem </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrailguard_1_1core_1_1_match.html">Match</a> &amp;&#160;</td>
          <td class="paramname"><em>match</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy an item but keep everything tightly packed in the vectors. </p>
<p>Meant to be used from derivated classes. Call this method to execute the boilerplate, then move the last item of the custom vectors at the location of the destroyed item, then pop_back every custom vectors.</p>
<p>Here is an example of code for a derived function:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> ShaderModuleManager::DestroyShaderModule(<span class="keyword">const</span> core::Match &amp;match)</div>
<div class="line">    {</div>
<div class="line">        super::DestroyItem(match);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Get index</span></div>
<div class="line">        <span class="keyword">auto</span> index = match.GetIndex();</div>
<div class="line">        <span class="keywordtype">size_t</span> lastIndex = <a class="code" href="classrailguard_1_1core_1_1_standalone_manager.html#afd6fc5ea6bb2bbb4fecb82ce5b5fb6a6">_ids</a>.size() - 1;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Destroy the module</span></div>
<div class="line">        <a class="code" href="classrailguard_1_1core_1_1_standalone_manager.html#accd358d2466a0a04e9f02a2c77cc370d">_storage</a>.vulkanDevice.destroyShaderModule(_modules[index]);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// If the index is smaller then, the destroyed item is not the last and the last one should be moved where</span></div>
<div class="line">        <span class="comment">// the destroyed item was</span></div>
<div class="line">        <span class="keywordflow">if</span> (index &lt; lastIndex)</div>
<div class="line">        {</div>
<div class="line">            _stages[index] = _stages[lastIndex];</div>
<div class="line">            _modules[index] = _modules[lastIndex];</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Destroy the last item</span></div>
<div class="line">        _stages.pop_back();</div>
<div class="line">        _modules.pop_back();</div>
<div class="line">    }</div>
<div class="ttc" id="aclassrailguard_1_1core_1_1_standalone_manager_html_accd358d2466a0a04e9f02a2c77cc370d"><div class="ttname"><a href="classrailguard_1_1core_1_1_standalone_manager.html#accd358d2466a0a04e9f02a2c77cc370d">railguard::core::StandaloneManager::_storage</a></div><div class="ttdeci">U _storage</div><div class="ttdoc">Optional storage for data that is passed in the Init method.</div><div class="ttdef"><b>Definition:</b> StandaloneManager.h:33</div></div>
<div class="ttc" id="aclassrailguard_1_1core_1_1_standalone_manager_html_afd6fc5ea6bb2bbb4fecb82ce5b5fb6a6"><div class="ttname"><a href="classrailguard_1_1core_1_1_standalone_manager.html#afd6fc5ea6bb2bbb4fecb82ce5b5fb6a6">railguard::core::StandaloneManager::_ids</a></div><div class="ttdeci">std::vector&lt; T &gt; _ids</div><div class="ttdoc">Allows to quickly retreive the id of an item from its index.</div><div class="ttdef"><b>Definition:</b> StandaloneManager.h:49</div></div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">match</td><td><a class="el" href="classrailguard_1_1core_1_1_match.html">Match</a> pointing to the item </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a603e5154475595b84678ed189c6b260d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a603e5154475595b84678ed189c6b260d">&#9670;&nbsp;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;std::integral T, typename U  = nullptr_t&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html">railguard::core::StandaloneManager</a>&lt; T, U &gt;::Init </td>
          <td>(</td>
          <td class="paramtype">U&#160;</td>
          <td class="paramname"><em>storage</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>defaultCapacity</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inits the vectors to the default capacity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">defaultCapacity</td><td>Number of items that will have pre allocated space in the vectors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2852649ed4b0d293e2236ab1ef0314f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2852649ed4b0d293e2236ab1ef0314f1">&#9670;&nbsp;</a></span>LookupId()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;std::integral T, typename U  = nullptr_t&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrailguard_1_1core_1_1_match.html">Match</a> <a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html">railguard::core::StandaloneManager</a>&lt; T, U &gt;::LookupId </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Searches for an item with the given id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Id of the item to look for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classrailguard_1_1core_1_1_match.html">core::Match</a> a match representing the position of the item in the arrays. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/core/<a class="el" href="_standalone_manager_8h_source.html">StandaloneManager.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>railguard</b></li><li class="navelem"><b>core</b></li><li class="navelem"><a class="el" href="classrailguard_1_1core_1_1_standalone_manager.html">StandaloneManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
